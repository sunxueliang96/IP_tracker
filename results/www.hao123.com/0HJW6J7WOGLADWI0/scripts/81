define("indexnew:component/feednews/feed.js",["global","module","exports","require","indexnew:static/js/jquery.js","indexnew:static/js/events.js","indexnew:static/js/pageEvents.js","indexnew:static/js/config.js","indexnew:static/js/recomlog.js","indexnew:static/js/log.js"],function(e,t,o,n,i,a,s,d,p,l){function c(e){try{u.init(e)}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:482})}}var f=i,r=a,g=s,m=d,h=p,v=l,u={init:function(e){try{var t=this;t.page=0,t.data=[],t.lock=!1,t.datalock=!1,t.ajaxlock=!1,t.top=!1,t.sec=!1,t.reload=1,t.options={defaultPageSize:e.defaultPageSize||20,pageSize:e.pageSize||e.defaultPageSize,tabData:e.tabData||[],$tabBoxObj:e.tabBoxObj,$feedBoxObj:e.feedBoxObj,$feedCtx:e.feedCtx,tabSelectClass:e.tabSelectClass||"selected",tabHoverClass:e.tabHoverClass||"hover",scrollDiffer:e.scrollDiffer||500,loadTimes:e.loadTimes||999,tabFixedClass:e.tabFixedClass||"",topBlank:e.topBlank||0,tabMap:e.tabMap,itemMap:e.itemMap,liveItemMap:e.liveItemMap,videoItemMap:e.videoItemMap,completion:e.completion||!1,liveCompletion:e.liveCompletion||!1,videoCompletion:e.videoCompletion||!1,alreadyBottom:e.alreadyBottom||!1,unreachBottom:e.unreachBottom||!1,tabClickCallbaack:e.tabClickCallbaack||!1,beforeRender:e.beforeRender||!1,result:e.result||{from:"indexnew_feed",monkey:"recom"},isStatic:e.isStatic},t.hasTab=t.options.tabData.length?!0:!1,t.hasTab&&(t.currentType=e.tabData[0][e.urlTabtype],t.options.urlTabtype=e.urlTabtype),e.data&&(t.options.data=e.data,t.data=e.data,t.dataRender()),e.url&&(t.options.url=e.url,t.options.type=e.type,t.getData()),t.hasTab&&(t.tabRender(),t.bindTabEvent()),t.bindFeedEvent()}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/feednews/feed.js",ln:84})}},getData:function(){try{var e=this;if(e.datalock||e.lock||e.ajaxlock)return!1;e.ajaxlock=!0,e.page++;var t=1===e.page?e.options.defaultPageSize:e.options.pageSize,o={pn:e.page,rn:t,ts:+new Date,app_from:"indexnew_feed"},n={tab:"yingshi_new",video_type:1,nums:1===e.page?20:12,mode:0};f.ajax({url:e.options.url,type:"GET",data:"video"===e.options.type?n:o,dataType:"jsonp",success:function(t){try{if("live"!==e.options.type&&"video"!==e.options.type&&e.options.isStatic&&!t.data.length)return e.ajaxlock=!0,f("#feed_news_wrap .loadingfeed").hide(),void f("#feed_news_wrap .morefeed").html("<span>没有更多了~</span>").show();if("live"===e.options.type)e.liveDataRender(t);else if("video"===e.options.type)e.videoDataRender(t);else{if(e.data=t.data,e.qid=t.qid,e.tag=t.tag,!e.data.length&&1===e.reload)return e.reload++,e.page--,e.ajaxlock=!1,void setTimeout(function(){try{e.getData()}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:143})}},300);if(0===e.data.length)return e.ajaxlock=!1,e.page--,e.options.completion&&e.options.completion(e.page,e.datalock,e.options.type,e.data),!1;e.dataRender()}}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/feednews/feed.js",ln:155})}},beforeSend:function(){try{e.options.beforeRender&&e.options.beforeRender()}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:158})}}})}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:component/feednews/feed.js",ln:160})}},tabRender:function(){try{var e=this;f.each(e.options.tabData,function(t,o){try{e.options.$tabBoxObj.append(e.options.tabMap(t,o)),0===t&&e.options.$tabBoxObj.find('[data-hook="tab"]').eq(0).addClass(e.options.tabSelectClass)}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/feednews/feed.js",ln:170})}})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:171})}},bindTabEvent:function(){try{var e=this;e.options.$tabBoxObj.find('[data-hook="tab"]').on("click",function(t){function o(){try{e.getData(),e.options.$feedBoxObj.attr("monkey",n.data("monkey")),e.lock=!0,e.options.tabClickCallbaack&&e.options.tabClickCallbaack(n,e.currentType)}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:200})}}try{if(t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1,e.lock)return!1;var n=f(this);e.currentType=n.data(e.options.urlTabtype),e.page=0,e.datalock=!1,e.options.$tabBoxObj.children().removeClass(e.options.tabSelectClass),n.addClass(e.options.tabSelectClass);var i=g.getViewport().scrollTop,a=e.options.$feedCtx.offset().top-e.options.topBlank;i>a?f("body,html").animate({scrollTop:a-13},400,function(){try{o()}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/feednews/feed.js",ln:209})}}):o()}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"indexnew:component/feednews/feed.js",ln:213})}}),e.options.$tabBoxObj.find('[data-hook="tab"]').hover(function(){try{var t=f(this).hasClass(e.options.tabSelectClass);t||f(this).addClass(e.options.tabHoverClass)}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/feednews/feed.js",ln:220})}},function(){try{f(this).removeClass(e.options.tabHoverClass)}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:223})}})}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:224})}},bindFeedEvent:function(){try{var e=this;r.on("viewport.deferchange",e.listenScroll,e)}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:229})}},dataRender:function(){try{var e=this;1===e.page&&e.options.$feedBoxObj.html(""),setTimeout(function(){try{var t="",o="",n=[],i=[];f.each(e.data,function(n,a){try{if(o=e.options.itemMap(n,a),!o)return i.push(n),!0;t+=o}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"indexnew:component/feednews/feed.js",ln:251})}}),t||v({type:"auto",k:"feed-no-data",v:m.__config__.pageId,t:e.options.type,q:e.qid}),e.options.$feedBoxObj.append(t),e.options.completion&&e.options.completion(e.page,e.datalock,e.options.type,e.data),e.lock=!1,e.ajaxlock=!1,f.each(i,function(t,o){try{e.data[o].isDel=1}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/feednews/feed.js",ln:269})}}),f.each(e.data,function(e,t){try{t.isDel||n.push(t)}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/feednews/feed.js",ln:274})}}),e.options.result.data=n,e.options.result.qid=e.qid,e.options.result.tag=e.tag,h.show({el:e.options.$feedBoxObj,items:e.options.$feedBoxObj.find("li.feed_news_item"),result:e.options.result})}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:component/feednews/feed.js",ln:306})}},10)}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feed.js",ln:308})}},liveDataRender:function(e){try{var t=this;if(1===t.page&&t.options.$feedBoxObj.html('<div class="live-inner"></div>'),0===e.errno&&e.data&&e.data.live_list&&"{}"!==JSON.stringify(e.data.live_list)&&"[]"!==JSON.stringify(e.data.live_list)){var o=+e.data.has_more;if(1===t.page&&0===o&&0===e.data.live_list.length)return t.options.$feedBoxObj.find("div.live-inner").html('<h3 class="no-live-data">主播正在休息中，请稍后观看</h3>'),void(t.options.liveCompletion&&t.options.liveCompletion(t.page,t.datalock,t.options.type));if(0===o){if(t.options.$feedBoxObj.find("li.feed_live_item").length<=10)return t.options.$feedBoxObj.find("div.live-inner").append('<li class="feed_live_item lesslive"><h3>其他主播正在休息中请稍后观看</h3></li>'),void(t.options.liveCompletion&&t.options.liveCompletion(t.page,t.datalock,t.options.type))}else t.options.$feedBoxObj.find("li.lesslive").remove();var e=e.data.live_list,n="",i=[];f.each(e,function(e,o){try{o.charm_count=t.formatLiveCharm(o.total_charm_count),o.formatname=o.user_name.length>7?o.user_name.substring(0,7)+"...":o.user_name,n+=t.options.liveItemMap(e,o),i.push(o)}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:component/feednews/feed.js",ln:350})}}),n||v({type:"auto",k:"feed-no-live-data",v:m.__config__.pageId,t:t.options.type,q:e.qid}),t.options.$feedBoxObj.find("div.live-inner").append(n),t.lock=!1,t.ajaxlock=!1,t.options.liveCompletion&&t.options.liveCompletion(t.page,t.datalock,t.options.type)}else e.length||(t.options.$feedBoxObj.find("li.lesslive").remove(),t.options.$feedBoxObj.find("div.live-inner").append('<li class="feed_live_item lesslive"><h3>其他主播正在休息中请稍后观看</h3></li>'),t.options.liveCompletion&&t.options.liveCompletion(t.page,t.datalock,t.options.type))}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"indexnew:component/feednews/feed.js",ln:380})}},videoDataRender:function(e){try{var t=this;if(1===t.page&&t.options.$feedBoxObj.html('<div class="video-inner"></div>'),0===e.errno&&e.data&&e.data.list&&"{}"!==JSON.stringify(e.data.list)&&"[]"!==JSON.stringify(e.data.list)){if(1===t.page&&0===e.data.list.length)return t.options.$feedBoxObj.find("div.video-inner").html('<h3 class="no-video-data">暂时没有视频哦~</h3>'),void(t.options.videoCompletion&&t.options.videoCompletion(t.page,t.datalock,t.options.type));var e=e.data.list,o="";f.each(e,function(e,n){try{o+=t.options.videoItemMap(e,n.content||{})}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:component/feednews/feed.js",ln:404})}}),o||v({type:"auto",k:"feed-no-video-data",v:m.__config__.pageId,t:t.options.type,q:e.qid}),t.options.$feedBoxObj.find("div.video-inner").append(o),t.lock=!1,t.ajaxlock=!1,t.options.videoCompletion&&t.options.videoCompletion(t.page,t.datalock,t.options.type)}else e.length||(t.options.$feedBoxObj.find("li.lesslive").remove(),t.options.$feedBoxObj.find("div.live-inner").append('<li class="feed_live_item lesslive"><h3>没有更多了~</h3></li>'),t.options.videoCompletion&&t.options.videoCompletion(t.page,t.datalock,t.options.type))}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/feednews/feed.js",ln:434})}},formatLiveCharm:function(e){try{var e=+e,t=9999;return e>t?(e/t).toFixed(2)+"万":e+""}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/feednews/feed.js",ln:444})}},listenScroll:function(){try{var e=this,t=g.getViewport().scrollTop,o=e.options.$feedCtx,n=o.offset().top+o.height(),i=f(window).height(),a=200;t+i+a>=n&&e.getData()}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"indexnew:component/feednews/feed.js",ln:477})}}};t.exports=c});
;define("indexnew:component/feednews/feednews.js",["global","module","exports","require","indexnew:static/js/jquery.js","indexnew:component/feednews/feed.js","indexnew:static/js/format.js","indexnew:static/js/store.js","indexnew:static/js/events.js","indexnew:static/js/pageEvents.js","indexnew:static/js/log.js","indexnew:static/js/config.js","indexnew:static/js/cookie.js","indexnew:static/js/browser.js","indexnew:static/js/util.js"],function(e,t,n,s,i,o,a,c,d,l,r,p,m,f,g){var u=i,h=o,w=a,y=c,v=d,x=r,_=p,b=f,k=g,j=parseInt(b.ie,10)<8,T=50,D=97,I=_.get("pageId"),$="hao123-indexnunew16"===I,S="https://gss2.bdstatic.com/5eR1dDebRNRTm2_p8IuM_a/her/static/indexnew/component/feednews/huangguan.ed44fa1.png",A="https://gss2.bdstatic.com/5eR1dDebRNRTm2_p8IuM_a/her/static/indexnew/component/feednews/play-btn.72c3579.png",C=['<li class="top-news fadeInDown animated" monkey="topNews">','<span class="first #{only}">','<a href="#{url0}" class="top-new" title="#{title0}">#{title0}</a>',"</span>",'<span class="second">','<a href="#{url1}" class="top-new" title="#{title1}">#{title1}</a>',"</span>","</li>"].join(""),H=['<li class="feed_news_item #{noimg} fadeInDown animated" #{monkey} #{hook}>','   <div class="item_cont #{noDesc}" #{monkey1}>','       <div class="feednews-header">','           <h3 class="g-ib"><a class="g-hu" title="#{title}" href="#{url}" target="_blank">#{title}</a></h3>',"       </div>",'       <div class="feednews-main">','           <a href="#{url}" target="_blank" alog-text="#{title}">','               <span class="g-ib f-14 description">#{desc}</span>','               <span class="g-ib thumbnail">#{img}</span>','               <div style="#{isVideo}" class="playicon-wrapper">','                   <i class="playicon"></i>','                   <p class="duration"><span>#{duration}</span></p>',"               </div>","           </a>","       </div>",'       <div class="feednews-footer">','           <span class="g-ib author">','               <a class="g-gray #{sourceTag}" href="#{sourceurl}">#{source}</a>',"           </span>",'           <span class="g-ib news-dot"></span>','           <span class="g-ib">#{times}</span>',"       </div>","   </div>","</li>"].join(""),O=['<li class="feed_live_item" monkey="liveitem">','    <a href="http://www.hao123.com/video/news?rid=#{live_id}&zhibo=1" class="item-link">','        <div class="coverimg">','            <img src="#{cover}" />','            <div class="status #{isLiving}">·直播中</div>','            <div class="mask">','                <img class="play-btn" src="#{playbtn}"/>',"            </div>","        </div>",'        <div class="text">','            <span class="title" title="#{user_name}">#{formatname}</span>','            <span class="charm"><img src="#{liveCharmCount}" />#{charm_count}</span>',"        </div>","    </a>","</li>"].join(""),L=['<li class="feed_video_item" monkey="videoitem">','    <a href="https://haokan.baidu.com/v?vid=#{vid}&fr=hao123-tab" class="item-link" title="#{title}">','        <div class="coverimg">','            <img src="#{cover_src}" />','            <div class="duration"><span>#{duration}</span></div>',"        </div>",'        <div class="text">','           <div class="fl">','               <span class="title" title="#{title}">#{formatTitle}</span>',"           </div>",'           <div class="sl">','               <span title="播放量">','                   <i class="icon play"></i>#{playcnt}',"               </span>",'               <span title="评论数">','                   <i class="icon comment"></i>#{comment_cnt}',"               </span>","           </div>","        </div>","    </a>","</li>"].join(""),R=['<li class="feed_news_item #{noimg} fadeInDown animated" #{monkey} #{hook}>','   <div class="item_cont #{noDesc}" #{monkey1}>','       <div class="feednews-header">','           <h3 class="g-ib"><a class="g-hu" title="#{title}" href="#{url}" target="_blank">#{title}</a></h3>',"       </div>",'       <div class="feednews-main">','           <a href="#{url}" target="_blank" alog-text="#{title}">','               <span class="g-ib f-14 description">#{desc}</span>',"           </a>","       </div>",'       <div class="feednews-footer">','           <span class="g-ib author">','               <a class="g-gray #{sourceTag}" href="#{sourceurl}">#{source}</a>',"           </span>",'           <span class="g-ib news-dot"></span>','           <span class="g-ib">#{times}</span>',"       </div>","   </div>","</li>"].join(""),B=['<li #{monkey} class="feed_news_item tuji fadeInDown animated">',"<h3>",'<a class="g-ib" title="#{title}" href="#{url}" alog-text="#{title}">#{title}</a>',"</h3>",'<a href="#{url}" alog-text="#{title}">','<img src="#{imgurl1}" />','<img src="#{imgurl2}" />','<img src="#{imgurl3}" />','<span class="g-ib more-img" >点击更多</span>',"</a>",'<div class="tip">','<a class="g-gray #{sourceTag}" href="#{sourceurl}">#{source}</a>','<span class="g-ib g-fc2">#{times}</span>',"</div>","</li>"].join(""),H=j?R:H,B=j?R:B,M=['<li class="wm #{isFirst}" data-hook="wm">','<div id="#{id1}" class="cproad1">',"</div>","</li>"].join(""),N='<img src="#{imgurl}" />',U="",E={init:function(e,t,n,s){try{var i=this;i.$feedbox=u("#feed_news_wrap"),i.$refresh=u("a#feed_refresh"),i.newhottop=[],i.hottop=y.get("hottop"),i.$loading=u('[data-hook="loading"]',i.$feedbox),i.$liveLoading=u('[data-hook="liveLoading"]',i.$feedbox),i.$morefeed=u('[data-hook="morefeed"]',i.$feedbox),i.$tabBox=u("#feedTab"),i.index=0,i.topData=[],i.firstload=!1,i.url="live"===t||"video"===t?e:e+t,i.type=t,i.isStatic=n,i.wmSlot=[],i.firstwm=!0,i.top=!1,i.sec=!1,i.cmsAd=s,i.feeder(i),i.bindEvent()}catch(o){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:o.message||o.description,path:"indexnew:component/feednews/feednews.js",ln:192})}},bindEvent:function(){try{}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/feednews/feednews.js",ln:193})}},feeder:function(e){try{{new h({url:e.url,type:e.type,isStatic:e.isStatic,defaultPageSize:"live"===e.type?11:10,urlTabtype:"type",result:{from:"indexnew_feed",monkey:"recom"},loadTimes:T,scrollDiffer:500,tabFixedClass:"tabfixed",topBlank:D,feedBoxObj:u("#feed_news_list"),feedCtx:u("#feed_news_wrap"),tabMap:function(e,t){try{var n=['<a href="#" class="g-ib" data-type="#{key}" data-monkey="#{monkey}" data-hook="tab">',"#{title}","</a>"].join("");return w(n,{key:t.type,title:t.title,monkey:t.feedmonkey})}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"indexnew:component/feednews/feednews.js",ln:257})}},itemMap:function(t,n){try{if((n.top||n.sec_fixed)&&2>t&&(e.topData.push(n),0===t))return"";if(e.topData.length&&1===t&&!e.top){var s=e.mergeTopData(e.topData);return 1===e.topData.length&&(s.only="onlyone"),e.top=!0,w(C,s)}if(n.top||n.sec_fixed)return"";e.index++;var i="",o="g-gray",a=(n.ext.doc_domain,"hasimg"),c="video"===n.dataType?"":"display:none;";n.img0||n.img1?(U=w(N,{imgurl:HAO.httpsTrans(n.img0||n.img1),hottop:n.cms_id?'<span class="hottop">置顶</span>':""}),n.desc&&n.desc.length>90&&(n.desc=n.desc.substr(0,90)+"...")):(U="",a="noimg",n.desc&&n.desc.length>120&&(n.desc=n.desc.substr(0,120)+"..."));var d="";if("video"!==e.type&&e.index%4===0?n.img0&&n.img1&&n.img2?d=w(B,{title:n.title,url:n.url,imgurl1:HAO.httpsTrans(n.img0),imgurl2:HAO.httpsTrans(n.img1),imgurl3:HAO.httpsTrans(n.img2),source:n.source,sourceurl:n.source_url||n.sourceUrl,sourceTag:n.source_url||n.sourceUrl?"haslink":"notlink",times:n.format_time?n.format_time:"",monkey:"answer"===n.dataType?'monkey="answer"':""}):e.index--:i=w(H,{url:n.url,img:U,noimg:a,isVideo:c,title:n.title,desc:n.desc,source:n.source,times:"video"===n.dataType?n.playcnt?k.formatNum(n.playcnt)+"次播放":"":n.format_time?n.format_time:"",sourceUrlColor:o,sourceurl:n.source_url||n.sourceUrl,sourceTag:n.source_url||n.sourceUrl?"haslink":"notlink",monkey:n.cms_id?'monkey="cms"':"video"===n.dataType?'monkey="video"':"answer"===n.dataType?'monkey="answer"':"",monkey1:1===e.index?'monkey="first"':"",hook:n.cms_id?'data-hook="cms"':"",noDesc:n.desc?"":"no-desc",duration:n.duration?k.formatDuration(n.duration):""}),n.cms_id)if(e.hottop){var t=u.inArray(n.cms_id,e.hottop);-1===t?e.newhottop.push(n.cms_id):i=""}else e.newhottop.push(n.cms_id);var l="";return e.preIndex!==e.index&&e.index>=2&&(e.index-2)%5===0&&(l=e.getWmHtml(),e.firstwm=!1),e.preIndex=e.index,i+d+l}catch(r){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:r.message||r.description,path:"indexnew:component/feednews/feednews.js",ln:386})}},liveItemMap:function(e,t){try{return w(O,{user_name:t.user_name,formatname:t.formatname,cover:HAO.httpsTrans(t.cover),live_id:t.live_id,isLiving:1===+t.live_status?"live":"",charm_count:t.charm_count,liveCharmCount:S,playbtn:A})}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/feednews/feednews.js",ln:406})}},videoItemMap:function(e,t){try{return w(L,{vid:t.vid,cover_src:HAO.httpsTrans(t.cover_src),duration:k.formatDuration(t.duration),title:t.title,formatTitle:t.title.length>25?t.title.slice(0,25)+"...":t.title,playcnt:k.formatNum(t.playcnt),comment_cnt:k.formatNum(t.comment_cnt)})}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/feednews/feednews.js",ln:425})}},tabClickCallbaack:function(){try{}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/feednews/feednews.js",ln:433})}},beforeRender:function(){try{e.$morefeed.hide(),"live"===e.type||"video"===e.type?e.$liveLoading.css("display","block"):e.$loading.css("display","block")}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feednews.js",ln:446})}},completion:function(t,n,s){try{0!==e.newhottop.length&&(y.set("hottop",e.newhottop),e.newhottop=[]);var i=u("#feed_news_list"),o=u("li",i).length;e.$loading.hide(),4>t&&7>o&&e.$morefeed.css("display","block"),n||(x({type:"auto",k:"indexnew-feed-"+t,v:_.__config__.pageId,t:s}),t>1&&v.emit("hao123.feedbottom.next",s)),t>=1&&!e.firstload&&(e.firstload=!0),v.emit("hao123.feedbottom.update",s);var a="//cpro.baidustatic.com/cpro/ui/c.js",c="",d="";$?(c="//as1.m.hao123.com/common/9hspp.js?ni=ajhojek",d="//as1.m.hao123.com/production/js/p700.js?fasxixgx=g"):(c="//as1.m.hao123.com/site/api/6g5d5.js?nia=ffeoqq",d="//as1.m.hao123.com/production/ui7pr.js?xskpp=obyh"),e.wmSlot&&e.wmSlot.length&&(u.each(e.wmSlot,function(){try{this.container=document.getElementById(this.container),(window.slotbydup=window.slotbydup||[]).push(this)}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/feednews/feednews.js",ln:509})}}),e.wmSlot=[]),window.slotbydup&&!window.slotbydup.load&&(window.slotbydup.load=!0,u.getScript(location.protocol+a),u.getScript(location.protocol+c),u.getScript(location.protocol+d))}catch(l){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:l.message||l.description,path:"indexnew:component/feednews/feednews.js",ln:519})}},liveCompletion:function(t,n,s){try{{u("#feed_news_list")}e.$liveLoading.hide(),n||x({type:"auto",k:"indexnew-live-feed-"+t,v:_.__config__.pageId,t:s})}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:component/feednews/feednews.js",ln:540})}},videoCompletion:function(t,n,s){try{{u("#feed_news_list")}e.$liveLoading.hide(),n||x({type:"auto",k:"indexnew-video-feed-"+t,v:_.__config__.pageId,t:s})}catch(i){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:i.message||i.description,path:"indexnew:component/feednews/feednews.js",ln:561})}},alreadyBottom:function(){try{}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/feednews/feednews.js",ln:571})}},unreachBottom:function(){try{}catch(e){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:e.message||e.description,path:"indexnew:component/feednews/feednews.js",ln:581})}}})}}catch(t){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:t.message||t.description,path:"indexnew:component/feednews/feednews.js",ln:583})}},getWmHtml:function(){try{var e=this;if(e.cmsAd.length&&1===+e.cmsAd[0].ison&&e.firstwm){var t=e.cmsAd[0],n="noimg",s="";return t.imgurl?(n="hasimg",t.desc&&t.desc.length>90&&(t.desc=t.desc.substr(0,90)+"..."),s=w(N,{imgurl:HAO.httpsTrans(t.imgurl)})):t.desc&&t.desc.length>120&&(t.desc=t.desc.substr(0,120)+"..."),w(H,{url:t.url,img:s,noimg:n,isVideo:"display:none;",title:t.title,desc:t.desc,source:t.source||"",times:t.times||"",sourceUrlColor:"g-gray",sourceurl:t.sourceurl||"#",sourceTag:t.sourceurl?"haslink":"notlink",monkey:'monkey="cms"',monkey1:'monkey="bc"',noDesc:t.desc?"":"no-desc"})}var i=e.firstwm?"u3554099":"u3554102";$&&(i=e.firstwm?"u3760748":"u3595050");var o=_.get("cproFeedIndex",-1)+1,a="_"+i+"_"+o;return this.wmSlot.push({id:i,container:a,async:!0}),_.set("cproFeedIndex",o),w(M,{isFirst:e.firstwm&&$?"firstwm":"",id1:a})}catch(c){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:c.message||c.description,path:"indexnew:component/feednews/feednews.js",ln:646})}},mergeTopData:function(e){try{var t={};return e.forEach(function(e,n){try{t["title"+n]=e.title,t["url"+n]=e.url}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"indexnew:component/feednews/feednews.js",ln:652})}}),t}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"indexnew:component/feednews/feednews.js",ln:654})}}};t.exports=E});